//Error
$themes: (
	error: (
		custom-link-base: 'black-crimson-12.5',
		custom-link-hover: 'black-crimson-12.5',
		custom-link-background: 'paper-crimson-90',
		link-hover: oColorsGetPaletteColor('black-crimson-12.5'),
		link-focus: oColorsGetPaletteColor('black-crimson-12.5'),
		button-text: 'black-crimson-12.5',
		button-background: 'paper-crimson-90',
		alert-icon-name: 'warning',
		alert-icon-text: oColorsGetPaletteColor('paper-crimson-90'),
		alert-icon-background: oColorsGetPaletteColor('black-crimson-12.5'),
		alert-icon-size: 20,
		close-icon-color: oColorsGetPaletteColor('black-crimson-12.5'),
	),
	neutral: (
		custom-link-base: 'black',
		custom-link-hover: 'black',
		custom-link-background: 'white-60',
		link-hover: oColorsGetPaletteColor('black'),
		link-focus: oColorsGetPaletteColor('black'),
		button-text: 'black',
		button-background: 'white-60',
		alert-icon-text: oColorsGetPaletteColor('white'),
		alert-icon-background: oColorsGetPaletteColor('black'),
		close-icon-background: oColorsGetPaletteColor('black'),
	),
	success: (
		custom-link-base: 'black-jade-43',
		custom-link-hover: 'black-jade-43',
		custom-link-background: 'paper-jade-80',
		link-hover: oColorsGetPaletteColor('black-jade-43'),
		link-focus: oColorsGetPaletteColor('black-jade-43'),
		button-text: 'black-jade-43',
		button-background: 'paper-jade-80',
		alert-icon-name: 'tick',
		alert-icon-text: oColorsGetPaletteColor('black-jade-43'),
		alert-icon-size: 40,
		close-icon-color: oColorsGetPaletteColor('black-jade-43'),
	),
);


@function _getValue($element, $property) {
	@return map-get(map-get($themes, $element), $property);
};

@mixin oMessageAlert($theme, $class: 'o-message') {
	@if map-has-key($themes, $theme) {
		.#{$class}--alert-#{$theme} {
			@include oColorsFor(o-message-alert-#{$theme});

			.#{$class}__link {
				@include oTypographyLinkCustom(
					_getValue($theme, custom-link-base),
					_getValue($theme, custom-link-hover),
					_getValue($theme, custom-link-background)
				);

				&:hover {
					border-bottom-color: _getValue($theme, link-hover);
				}

				&:focus {
					outline: 3px solid _getValue($theme, link-focus);
					border-bottom-color: transparent;
				}
			}

			.#{$class}__button {
				@include oButtonsCustomTheme(_getValue($theme, button-background), _getValue($theme, button-text));
			}

			.#{$class}__content:before {
				//this really needs to not be the case with the icons,
				// waiting on new icons from james

				@if $theme == error or $theme == success {
					@include oIconsGetIcon(
					_getValue($theme, alert-icon-name),
					_getValue($theme, alert-icon-text),
					_getValue($theme, alert-icon-size)
					);
					content: '';
				}

				@if $theme == error or $theme == neutral {
					padding: 1px;
					background-color: _getValue($theme, alert-icon-background);
					border-radius: 50%;
					margin: 10px;
				}


				@if $theme == neutral {
					@include oTypographySansBold(0);
					content: 'i';
					color: _getValue($theme, alert-icon-text);
					background-color: _getValue($theme, alert-icon-background);
					padding: 2px 10px
				}
			}

			.#{$class}__close {
				@include oIconsGetIcon('cross', _getValue($theme, close-icon-text), 20);
			}
		}

	} @else {
		@error '#{$theme} is not a theme. You can try error, success or neutral, instead.';
	}
}
