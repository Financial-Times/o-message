@mixin oMessageAlertIcon ($icon-name, $icon-color, $icon-size) {
	content: '';
	@include oIconsGetIcon(
		$icon-name,
		$icon-color,
		$icon-size
	);
}

@mixin oMessageAlertContent () {
	@include oTypographyMargin($top: 0, $bottom: 0);
	width: 100%;
	display: flex;
	align-items: center;

	&--highlight {
		@include oTypographySansBold($scale: 0);
		line-height: 1;
		margin-right: oTypographySpacingSize(6);
	}

	&--detail {
		padding-left: oTypographySpacingSize(2);
		font-weight: 400;
	}
}

@mixin oMessageAlertButtonTheme ($background, $text) {
	@include oMessageButtonBase;
	@include oButtonsCustomTheme($background, $text);
}

@mixin oMessageAlertLink ($custom-link-base, $custom-link-hover, $custom-link-background, $link-hover, $link-focus) {
	margin-left: oTypographySpacingSize(6);
	@include oTypographyLinkCustom(
		$custom-link-base,
		$custom-link-hover,
		$custom-link-background
	);

	&:hover {
		border-bottom-color: $link-hover; // is different to custom link hover by design.
	}

	&:focus {
		outline: 3px solid $link-focus;
		border-bottom-color: transparent;
	}
}

@mixin oMessageAlertGrid () {
	@include oGridContainer();
	@include oGridRespondTo($from: S) {
		padding: oGridGutter();
	}
}

@mixin oMessageAlertBase($class) {
	.#{$class}--alert,
	.#{$class}--alert--bleed {
		height: $_o-message-alert-height;

		.#{$class}__content--detail {
			@include oGridRespondTo($until: M) {
				display: none;
			};
		}

		.#{$class}__action--secondary {
			@include oGridRespondTo($until: S) {
				display: none;
			};
		}
	}

	.#{$class}--alert,
	.#{$class}--alert--bleed .#{$class}__container {
		@include oMessageAlertGrid;
	}

	.#{$class}__container {
		@include oMessageContainer;

		.#{$class}__content {
			@include oMessageAlertContent;
		}
	}

	.#{$class}--closed {
		display: none;
	}
}

@mixin oMessageFor ($theme, $class) {
	@if map-has-key($_o-message-theme-styles, $theme) {
		.#{$class}--alert-#{$theme} {
			@include oColorsFor(o-message-alert-#{$theme});

			.#{$class}__action--primary {
				@include oMessageAlertButtonTheme(
				_oMessageGetMapValue($theme, button-background),
				_oMessageGetMapValue($theme, button-text)
				);
			}

			.#{$class}__action--secondary {
				@include oMessageAlertLink(
					$custom-link-base: _oMessageGetMapValue($theme, custom-link-base),
					$custom-link-hover: _oMessageGetMapValue($theme, custom-link-hover),
					$custom-link-background: _oMessageGetMapValue($theme, custom-link-background),
					$link-hover: _oMessageGetMapValue($theme, link-hover),
					$link-focus: _oMessageGetMapValue($theme, link-focus)
				);
			}

			.#{$class}__container:before {
				@include oMessageAlertIcon(
					_oMessageGetMapValue($theme, alert-icon-name),
					_oMessageGetMapValue($theme, alert-icon-color),
					_oMessageGetMapValue($theme, alert-icon-size)
				);
			}

			.#{$class}__close {
				@include oMessageCloseButton(_oMessageGetMapValue($theme, close-icon-color));
			}
		}
	} @else {
		@return _oMessageError("#{$theme} is not a theme. You can try 'error', 'success' or 'neutral', instead.");
	}
}
